<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CKD Prediction Tool</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #3498db;
            --secondary: #2980b9;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --info: #1abc9c;
        }

        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
            color: #333;
            line-height: 1.6;
        }

        .auth-nav {
        background: var(--dark);
        padding: 10px 0;
        text-align: center;
        }

        .auth-nav .container {
        display: flex;
        justify-content: flex-end;
        align-items: center;
        padding: 0 40px;
        }

        .auth-nav a, .auth-nav span {
        color: white;
        text-decoration: none;
        margin-left: 20px;
        font-weight: 500;
        transition: color 0.3s;
        }

        .auth-nav a:hover {
        color: var(--primary);
        }

        .auth-nav .logout-btn {
        color: rgb(237, 17, 17) !important;
        }

        .auth-nav .logout-btn:hover {
            transform: translateX(4px);
        }

        @media (max-width: 768px) {
        .auth-nav .container {
            justify-content: center;
            flex-direction: column;
            gap: 10px;
            }
        }

        .container {
            max-width: 1100px;
            margin: 30px auto;
            background: white;
            padding: 30px 40px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            animation: fadeIn 0.8s ease-in-out;
            position: relative;
            overflow: hidden;
        }

        .container::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background: linear-gradient(90deg, var(--primary), var(--info), var(--success));
        }

        .img2 {
            height: auto;
            width: 250px;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        header {
            text-align: center;
            padding-bottom: 20px;
            margin-bottom: 30px;
            position: relative;
        }

        .kidney-icon {
            margin-right: 25px;
            margin-top: 80;
            width: 240px;
            height: auto;
            margin-bottom: 20px;
            border-radius: 60px;
            animation: float 4s ease-in-out infinite;
        }

        .header {
            display: flex;
            justify-content: center;
        }

        @keyframes float {
            0% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-10px);
            }

            100% {
                transform: translateY(0px);
            }
        }

        header h1 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 2.5rem;
            background: linear-gradient(to right, var(--primary), var(--info));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
            display: inline-block;
        }

        header h1::after {
            content: "";
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: linear-gradient(to right, var(--primary), var(--info));
            border-radius: 2px;
        }

        .content-section {
            margin-bottom: 40px;
            transition: all 0.3s ease;
            padding: 25px;
            border-radius: 12px;
            background-color: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            position: relative;
            overflow: hidden;
        }

        .content-section::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: linear-gradient(to bottom, var(--primary), var(--info));
        }

        .content-section:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        h2 {
            color: var(--primary);
            border-bottom: 2px solid var(--primary);
            padding-bottom: 8px;
            display: inline-block;
            margin-top: 0;
            font-size: 1.8rem;
        }

        ul {
            list-style-type: none;
            padding-left: 0;
        }

        ul li {
            padding: 8px 0;
            padding-left: 30px;
            position: relative;
        }

        ul li::before {
            content: "•";
            color: var(--primary);
            font-size: 1.5rem;
            position: absolute;
            left: 0;
            top: 2px;
        }

        .disclaimer {
            background-color: #fff3cd;
            border-left: 5px solid #ffc107;
            color: #856404;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            margin-bottom: 30px;
            animation: bounceIn 1s;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .disclaimer i {
            font-size: 1.8rem;
            color: #ffc107;
        }

        form {
            margin-top: 20px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 25px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .form-group label {
            margin-bottom: 8px;
            color: var(--dark);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .form-group label i {
            color: var(--primary);
            font-size: 1.1rem;
        }

        input,
        select {
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s;
            background-color: #f9f9f9;
        }

        input:focus,
        select:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
            background-color: white;
            outline: none;
        }

        button {
            grid-column: 1 / -1;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 15px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        button:hover {
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(41, 128, 185, 0.3);
        }

        button:active {
            transform: translateY(0);
        }

        .message-box {
            margin-top: 30px;
            padding: 20px;
            border-radius: 8px;
            font-size: 1.2rem;
            text-align: center;
            font-weight: bold;
            animation: fadeInUp 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .result {
            background-color: #e8f8f5;
            border-left: 5px solid var(--success);
            color: #27ae60;
        }

        .error {
            background-color: #fdedec;
            border-left: 5px solid var(--danger);
            color: #e74c3c;
        }

        footer {
            text-align: center;
            padding: 30px 0;
            margin-top: 50px;
            background: linear-gradient(135deg, var(--dark), #34495e);
            color: var(--light);
            border-radius: 0 0 12px 12px;
            position: relative;
        }

        footer::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--info), var(--success));
        }

        footer p {
            margin: 5px 0;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .social-links a {
            color: var(--light);
            font-size: 1.5rem;
            transition: transform 0.3s, color 0.3s;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.1);
        }

        .social-links a:hover {
            color: white;
            transform: translateY(-5px) scale(1.1);
            background: rgba(255, 255, 255, 0.2);
        }

        .heart {
            color: var(--danger);
            animation: heartbeat 1.5s infinite;
        }

        @keyframes heartbeat {
            0% {
                transform: scale(1);
            }

            25% {
                transform: scale(1.1);
            }

            50% {
                transform: scale(1);
            }

            75% {
                transform: scale(1.1);
            }

            100% {
                transform: scale(1);
            }
        }

        .info-graphic {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 20px;
            margin: 30px 0;
        }

        .info-card {
            flex: 1;
            min-width: 250px;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            text-align: center;
            transition: all 0.3s;
        }

        .info-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .info-card img {
            width: 80px;
            height: auto;
            margin-bottom: 15px;
        }

        .info-card h3 {
            color: var(--primary);
            margin-top: 0;
        }

        .floating-kidneys {
            position: absolute;
            width: 100px;
            opacity: 0.1;
            z-index: 0;
        }

        .kidney1 {
            top: 10%;
            left: 5%;
            animation: float 6s ease-in-out infinite;
        }

        .kidney2 {
            bottom: 10%;
            right: 5%;
            animation: float 7s ease-in-out infinite reverse;
        }

        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: var(--dark);
            color: white;
            text-align: center;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.9rem;
            font-weight: normal;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        .progress-container {
            width: 100%;
            height: 8px;
            background-color: #f1f1f1;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--info));
            width: 0%;
            transition: width 1s ease-in-out;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 15px;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            header h1 {
                font-size: 1.8rem;
            }
        }
    </style>
</head>

<body>
    
    <!-- == AUTHENTICATION NAVIGATION BAR == -->
    
    <nav class="auth-nav" ">
        <div class="container" style="height: 50px;">
            <h1 style="color: var(--primary); margin-right: auto;" class="header">CKD Predictor</h1>
            {% if user.is_authenticated %}
                <span style="color: blue;" "><i class="fas fa-user-circle"></i> Welcome-<strong>{{ user.username }}</strong></span>
                <a href="{% url 'logout' %}" style="height: 40%;" class="logout-btn" ><i class="fas fa-sign-out-alt"></i> Logout</a>
            {% else %}
                <a style="color: blue;" href="{% url 'login' %}"><i class="fas fa-sign-in-alt "></i> Login</a>
                <a style="color: blue;" href="{% url 'register' %}"><i class="fas fa-user-plus"></i> Register</a>
            {% endif %}
        </div>
    </nav>

    <div class="container">
        <header>
            <div class="header">
                <img src="https://res.cloudinary.com/debtibyco/image/upload/v1753463375/Kidney_img_iyxskh.png" class="kidney-icon" alt="Kidney icon">
                <div>
                    <h1>Chronic Kidney Disease stage identification using Machine Learning</h1>
                    <p>An advanced tool to assess CKD likelihood using machine learning algorithms</p>
                </div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="pageLoadProgress"></div>
            </div>
        </header>

        <div class="content-section">
            <h2>About Chronic Kidney Disease (CKD)</h2>
            <p>Chronic Kidney Disease means your kidneys are damaged and can't filter blood properly. This damage occurs gradually over time, allowing waste to accumulate in your body. CKD can lead to serious complications like heart disease and kidney failure if left untreated.</p>

            <div class="info-graphic">
                <div class="info-card">
                    <img src="https://cdn-icons-png.flaticon.com/512/2922/2922033.png" alt="Kidney function">
                    <h3>Kidney Function</h3>
                    <p>Healthy kidneys filter about half a cup of blood every minute, removing wastes and extra water.</p>
                </div>
                <div class="info-card">
                    <img src="https://cdn-icons-png.flaticon.com/512/2936/2936886.png" alt="Risk factors">
                    <h3>Risk Factors</h3>
                    <p>Diabetes and high blood pressure account for 2/3 of CKD cases.</p>
                </div>
                <div class="info-card">
                    <img src="https://cdn-icons-png.flaticon.com/512/2785/2785482.png" alt="Prevention">
                    <h3>Prevention</h3>
                    <p>Early detection and treatment can often keep CKD from getting worse.</p>
                </div>
            </div>

            <h3>Common Risk Factors Include:</h3>
            <ul>
                <li><strong>Diabetes</strong> (the leading cause of kidney failure)</li>
                <li><strong>High Blood Pressure</strong> (Hypertension)</li>
                <li><strong>Heart Disease</strong> and cardiovascular conditions</li>
                <li><strong>Family history</strong> of kidney failure</li>
                <li><strong>Age</strong> (risk increases after 60 years)</li>
                <li><strong>Smoking</strong> and obesity</li>
            </ul>
        </div>

        <div class="disclaimer">
            <i class="fas fa-exclamation-triangle"></i>
            <div>This is an educational project and is not a substitute for professional medical advice. The prediction is based on a model and should not be used for actual medical diagnosis.</div>
        </div>

        
        <!-- == START: CONDITIONAL BLOCK FOR AUTHENTICATED USERS == -->
        
        {% if user.is_authenticated %}

        <div class="content-section">
            <h2>Prediction Form</h2>
            <p>Enter the patient's medical data below to assess CKD risk. After submission, the results will appear on this page.</p>

            <form action="{% url 'predict_page' %}" method="post" id="predictionForm">
                {% csrf_token %}
                <div class="form-grid">
                    <!-- Updated Inputs to retain values after submission -->
                    <div class="form-group">
                        <label><i class="fas fa-birthday-cake"></i> Age</label>
                        <input type="number" name="age" required min="1" max="120" placeholder="Years" value="{{ form_values.age }}">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-heartbeat"></i> Blood Pressure (mm Hg)</label>
                        <input type="number" name="bp" required placeholder="e.g., 80" value="{{ form_values.bp }}">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-flask"></i> Specific Gravity</label>
                        <input type="number" step="0.001" name="sg" placeholder="1.010 - 1.025" required value="{{ form_values.sg }}">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-vial"></i> Albumin (0-5)</label>
                        <input type="number" name="al" required min="0" max="5" value="{{ form_values.al }}">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-candy-cane"></i> Sugar (0-5)</label>
                        <input type="number" name="su" required min="0" max="5" value="{{ form_values.su }}">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-syringe"></i> Blood Glucose (mg/dl)</label>
                        <input type="number" name="bgr" required placeholder="e.g., 140" value="{{ form_values.bgr }}">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-prescription-bottle"></i> Blood Urea (mg/dl)</label>
                        <input type="number" name="bu" required value="{{ form_values.bu }}">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-prescription-bottle-alt"></i> Serum Creatinine (mg/dl)</label>
                        <input type="number" step="0.1" name="sc" required value="{{ form_values.sc }}">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-atom"></i> Sodium (mEq/L)</label>
                        <input type="number" name="sod" required value="{{ form_values.sod }}">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-bolt"></i> Potassium (mEq/L)</label>
                        <input type="number" step="0.1" name="pot" required value="{{ form_values.pot }}">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-tint"></i> Hemoglobin (gms)</label>
                        <input type="number" step="0.1" name="hemo" required value="{{ form_values.hemo }}">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-microscope"></i> Packed Cell Volume</label>
                        <input type="number" name="pcv" required value="{{ form_values.pcv }}">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-bacterium"></i> WBC Count (cells/cumm)</label>
                        <input type="number" name="wc" required value="{{ form_values.wc }}">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-redo"></i> RBC Count (millions/cumm)</label>
                        <input type="number" step="0.1" name="rc" required value="{{ form_values.rc }}">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-redo"></i> Red Blood Cells</label>
                        <select name="rbc">
                            <option value="1" {% if form_values.rbc == '1' %}selected{% endif %}>Normal</option>
                            <option value="0" {% if form_values.rbc == '0' %}selected{% endif %}>Abnormal</option>
                        </select> 
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-microscope"></i> Pus Cell</label>
                        <select name="pc">
                            <option value="1" {% if form_values.pc == '1' %}selected{% endif %}>Normal</option>
                            <option value="0" {% if form_values.pc == '0' %}selected{% endif %}>Abnormal</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-cluster"></i> Pus Cell Clumps</label>
                        <select name="pcc">
                            <option value="0" {% if form_values.pcc == '0' %}selected{% endif %}>Not Present</option>
                            <option value="1" {% if form_values.pcc == '1' %}selected{% endif %}>Present</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-bacteria"></i> Bacteria</label>
                        <select name="ba">
                            <option value="0" {% if form_values.ba == '0' %}selected{% endif %}>Not Present</option>
                            <option value="1" {% if form_values.ba == '1' %}selected{% endif %}>Present</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-heart"></i> Hypertension</label>
                        <select name="htn">
                            <option value="1" {% if form_values.htn == '1' %}selected{% endif %}>Yes</option>
                            <option value="0" {% if form_values.htn == '0' %}selected{% endif %}>No</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-syringe"></i> Diabetes</label>
                        <select name="dm">
                            <option value="1" {% if form_values.dm == '1' %}selected{% endif %}>Yes</option>
                            <option value="0" {% if form_values.dm == '0' %}selected{% endif %}>No</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-heartbeat"></i> Coronary Artery Disease</label>
                        <select name="cad">
                            <option value="1" {% if form_values.cad == '1' %}selected{% endif %}>Yes</option>
                            <option value="0" {% if form_values.cad == '0' %}selected{% endif %}>No</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-utensils"></i> Appetite</label>
                        <select name="appet">
                            <option value="0" {% if form_values.appet == '0' %}selected{% endif %}>Good</option>
                            <option value="1" {% if form_values.appet == '1' %}selected{% endif %}>Poor</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-swelling"></i> Pedal Edema</label>
                        <select name="pe">
                            <option value="1" {% if form_values.pe == '1' %}selected{% endif %}>Yes</option>
                            <option value="0" {% if form_values.pe == '0' %}selected{% endif %}>No</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-tint-slash"></i> Anemia</label>
                        <select name="ane">
                            <option value="1" {% if form_values.ane == '1' %}selected{% endif %}>Yes</option>
                            <option value="0" {% if form_values.ane == '0' %}selected{% endif %}>No</option>
                        </select>
                    </div>

                    <button type="submit" id="predictButton">
                        <i class="fas fa-calculator"></i> Get Prediction
                    </button>
                </div>
            </form>

            <div id="result-section" style="padding-top: 20px;">
                {% if error_message %}
                <div class="message-box error animate__animated animate__shakeX">
                    <i class="fas fa-exclamation-circle"></i>
                    <div>
                        <strong>Error:</strong> {{ error_message }}
                    </div>
                </div>
                {% endif %}

                {% if result %}
                <div class="content-section animate__animated animate__fadeInUp" style="margin-top: 40px; border-top: 5px solid {% if 'High' in result %}var(--danger){% else %}var(--success){% endif %};">
                    <h2 style="color: {% if 'High' in result %}var(--danger){% else %}var(--success){% endif %}; border-bottom-color: {% if 'High' in result %}var(--danger){% else %}var(--success){% endif %};">
                        <i class="fas fa-poll"></i> Prediction Outcome
                    </h2>

                    <div class="message-box {% if 'High' in result %}error{% else %}result{% endif %}" style="justify-content: center; font-size: 1.3rem;">
                        <i class="fas {% if 'High' in result %}fa-exclamation-triangle{% else %}fa-check-circle{% endif %}" style="font-size: 1.5rem;"></i>
                        <strong>{{ result }}</strong>
                    </div>

                    <div style="margin-top: 30px; text-align: left;">
                        <h3>{{ recommendations_title }}</h3>
                        <p style="font-size: 1.1rem;">
                            {% if 'High' in result %}
                            This result suggests a significant risk. It is <strong>crucial</strong> to consult a healthcare professional for a proper diagnosis and treatment plan.
                            {% else %}
                            This result is positive. Maintaining a healthy lifestyle is the best way to protect your kidneys for the future.
                            {% endif %}
                        </p>
                        <ul style="list-style-type: none; padding-left: 0; margin-top: 20px;">
                            {% for icon, text in recommendations %}
                            <li style="display: flex; align-items: flex-start; gap: 15px; padding: 12px 0; border-bottom: 1px solid #f0f0f0;">
                                <i class="fas fa-{{ icon }}" style="color: var(--primary); font-size: 1.2rem; margin-top: 4px; width: 20px; text-align: center;"></i>
                                <span>{{ text|safe }}</span>
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
                {% endif %}
            </div>

        </div>

        {% else %}
        
        <!-- == THIS BLOCK IS SHOWN TO NON-LOGGED-IN VISITORS == -->
        
        <div class="disclaimer" style="border-left-color: var(--primary); background-color: #eaf5fc; color: var(--secondary); margin-top: 40px; padding: 25px;">
            <i class="fas fa-lock" style="color: var(--primary);"></i>
            <div style="font-size: 1.2rem;">
                <strong>Please <a href="{% url 'login' %}">log in</a> or <a href="{% url 'register' %}">create an account</a> to use the prediction tool.</strong>
            </div>
        </div>

        {% endif %}
       
        <!-- == END: CONDITIONAL BLOCK == -->
       

        <div class="content-section">
            <h2>For More Information</h2>
            <p>To learn more about Chronic Kidney Disease, please consult these reputable sources:</p>
            <ul>
                <li><a href="https://www.kidney.org/" target="_blank"><i class="fas fa-external-link-alt"></i> National Kidney Foundation</a></li>
                <li><a href="https://www.niddk.nih.gov/health-information/kidney-disease/chronic-kidney-disease-ckd" target="_blank"><i class="fas fa-external-link-alt"></i> National Institute of Diabetes and Digestive and Kidney Diseases (NIDDK)</a></li>
                <li><a href="https://www.mayoclinic.org/diseases-conditions/chronic-kidney-disease/symptoms-causes/syc-20354521" target="_blank"><i class="fas fa-external-link-alt"></i> Mayo Clinic - Chronic Kidney Disease</a></li>
            </ul>

            <div style="margin-top: 30px; text-align: center;">
                <img class="img2" src="https://res.cloudinary.com/debtibyco/image/upload/v1753466613/H_vs_D_xkkquj.png" alt="Healthy vs Damaged Kidney" style="max-width: 100%; border-radius: 8px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                <p style="font-size: 0.9rem; color: #666; margin-top: 10px;">Comparison of healthy and damaged kidneys</p>
            </div>
        </div>

        <footer>
            <p>Made with <span class="heart">❤</span> Kiran | For better Healthcare</p>
            <p>© <span id="currentYear"></span> Kiran Kumar | All rights reserved | CKD Prediction Tool</p>
            <div class="social-links">
                <a href="https://www.linkedin.com/in/kiran-kumar-barapati/" target="_blank" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                <a href="#" target="_blank" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                <a href="https://github.com/kirankumarbarapati/" target="_blank" aria-label="GitHub"><i class="fab fa-github"></i></a>
            </div>
            <p>Contact: barapatikirankumar2004@gmail.com</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('currentYear').textContent = new Date().getFullYear();

            const progressBar = document.getElementById('pageLoadProgress');
            let width = 0;
            const interval = setInterval(() => {
                if (width >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        progressBar.style.opacity = '0';
                        setTimeout(() => {
                            progressBar.style.display = 'none';
                        }, 300);
                    }, 500);
                } else {
                    width += 10;
                    progressBar.style.width = width + '%';
                }
            }, 50);

            // MODIFICATION: Check if the form exists before adding the event listener
            const form = document.getElementById('predictionForm');
            if (form) {
                const predictButton = document.getElementById('predictButton');
                form.addEventListener('submit', function(e) {
                    predictButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
                    predictButton.disabled = true;
                });
            }

            const resultSection = document.getElementById('result-section');
            if (resultSection && (resultSection.querySelector('.result') || resultSection.querySelector('.error') || resultSection.querySelector('.content-section'))) {
                resultSection.scrollIntoView({
                    behavior: 'smooth',
                    block: 'center'
                });
            }
        });
    </script>
</body>
</html>
